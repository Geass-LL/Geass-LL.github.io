---
layout: post
title: "linux 内存管理"
category: kernel
date: 2023-12-04 08:00 +0800
---

内核版本：4.19.289

## 1 LRU算法

参考：<https://www.ctyun.cn/zhishi/p-158284>

### 1.1 LRU链表

```c
enum lru_list {
	LRU_INACTIVE_ANON = LRU_BASE,
	LRU_ACTIVE_ANON = LRU_BASE + LRU_ACTIVE,
	LRU_INACTIVE_FILE = LRU_BASE + LRU_FILE,
	LRU_ACTIVE_FILE = LRU_BASE + LRU_FILE + LRU_ACTIVE,
	LRU_UNEVICTABLE,
	NR_LRU_LISTS
};
```

### 1.2 最简化版的LRU链表

![img](https://github.com/Geass-LL/draw/raw/master/github-io/lru-simple.png)

## memcg

## 内存分配

## 内存回收
